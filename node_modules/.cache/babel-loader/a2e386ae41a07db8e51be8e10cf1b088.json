{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\n\nvar calcThumbStyle = function calcThumbStyle(targetElement) {\n  return targetElement ? {\n    left: targetElement.offsetLeft,\n    right: targetElement.parentElement.clientWidth - targetElement.clientWidth - targetElement.offsetLeft,\n    width: targetElement.clientWidth\n  } : null;\n};\n\nvar toPX = function toPX(value) {\n  return value !== undefined ? \"\".concat(value, \"px\") : undefined;\n};\n\nexport default function MotionThumb(props) {\n  var prefixCls = props.prefixCls,\n      containerRef = props.containerRef,\n      value = props.value,\n      getValueIndex = props.getValueIndex,\n      motionName = props.motionName,\n      onMotionStart = props.onMotionStart,\n      onMotionEnd = props.onMotionEnd,\n      direction = props.direction;\n  var thumbRef = React.useRef(null);\n\n  var _React$useState = React.useState(value),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      prevValue = _React$useState2[0],\n      setPrevValue = _React$useState2[1]; // =========================== Effect ===========================\n\n\n  var findValueElement = function findValueElement(val) {\n    var _containerRef$current;\n\n    var index = getValueIndex(val);\n    var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelectorAll(\".\".concat(prefixCls, \"-item\"))[index];\n    return (ele === null || ele === void 0 ? void 0 : ele.offsetParent) && ele;\n  };\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevStyle = _React$useState4[0],\n      setPrevStyle = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      nextStyle = _React$useState6[0],\n      setNextStyle = _React$useState6[1];\n\n  useLayoutEffect(function () {\n    if (prevValue !== value) {\n      var prev = findValueElement(prevValue);\n      var next = findValueElement(value);\n      var calcPrevStyle = calcThumbStyle(prev);\n      var calcNextStyle = calcThumbStyle(next);\n      setPrevValue(value);\n      setPrevStyle(calcPrevStyle);\n      setNextStyle(calcNextStyle);\n\n      if (prev && next) {\n        onMotionStart();\n      } else {\n        onMotionEnd();\n      }\n    }\n  }, [value]);\n  var thumbStart = React.useMemo(function () {\n    return direction === 'rtl' ? toPX(-(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.right)) : toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.left);\n  }, [direction, prevStyle]);\n  var thumbActive = React.useMemo(function () {\n    return direction === 'rtl' ? toPX(-(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.right)) : toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.left);\n  }, [direction, nextStyle]); // =========================== Motion ===========================\n\n  var onAppearStart = function onAppearStart() {\n    return {\n      transform: \"translateX(var(--thumb-start-left))\",\n      width: \"var(--thumb-start-width)\"\n    };\n  };\n\n  var onAppearActive = function onAppearActive() {\n    return {\n      transform: \"translateX(var(--thumb-active-left))\",\n      width: \"var(--thumb-active-width)\"\n    };\n  };\n\n  var onAppearEnd = function onAppearEnd() {\n    setPrevStyle(null);\n    setNextStyle(null);\n    onMotionEnd();\n  }; // =========================== Render ===========================\n  // No need motion when nothing exist in queue\n\n\n  if (!prevStyle || !nextStyle) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionName: motionName,\n    motionAppear: true,\n    onAppearStart: onAppearStart,\n    onAppearActive: onAppearActive,\n    onAppearEnd: onAppearEnd\n  }, function (_ref, ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n\n    var mergedStyle = _objectSpread(_objectSpread({}, motionStyle), {}, {\n      '--thumb-start-left': thumbStart,\n      '--thumb-start-width': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.width),\n      '--thumb-active-left': thumbActive,\n      '--thumb-active-width': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.width)\n    }); // It's little ugly which should be refactor when @umi/test update to latest jsdom\n\n\n    var motionProps = {\n      ref: composeRef(thumbRef, ref),\n      style: mergedStyle,\n      className: classNames(\"\".concat(prefixCls, \"-thumb\"), motionClassName)\n    };\n\n    if (process.env.NODE_ENV === 'test') {\n      motionProps['data-test-style'] = JSON.stringify(mergedStyle);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", motionProps);\n  });\n}","map":{"version":3,"sources":["/Users/luna/Desktop/Project/Git Project/rick-Morty/node_modules/rc-segmented/es/MotionThumb.js"],"names":["_objectSpread","_slicedToArray","classNames","CSSMotion","useLayoutEffect","composeRef","React","calcThumbStyle","targetElement","left","offsetLeft","right","parentElement","clientWidth","width","toPX","value","undefined","concat","MotionThumb","props","prefixCls","containerRef","getValueIndex","motionName","onMotionStart","onMotionEnd","direction","thumbRef","useRef","_React$useState","useState","_React$useState2","prevValue","setPrevValue","findValueElement","val","_containerRef$current","index","ele","current","querySelectorAll","offsetParent","_React$useState3","_React$useState4","prevStyle","setPrevStyle","_React$useState5","_React$useState6","nextStyle","setNextStyle","prev","next","calcPrevStyle","calcNextStyle","thumbStart","useMemo","thumbActive","onAppearStart","transform","onAppearActive","onAppearEnd","createElement","visible","motionAppear","_ref","ref","motionClassName","className","motionStyle","style","mergedStyle","motionProps","process","env","NODE_ENV","JSON","stringify"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nvar calcThumbStyle = function calcThumbStyle(targetElement) {\n  return targetElement ? {\n    left: targetElement.offsetLeft,\n    right: targetElement.parentElement.clientWidth - targetElement.clientWidth - targetElement.offsetLeft,\n    width: targetElement.clientWidth\n  } : null;\n};\nvar toPX = function toPX(value) {\n  return value !== undefined ? \"\".concat(value, \"px\") : undefined;\n};\nexport default function MotionThumb(props) {\n  var prefixCls = props.prefixCls,\n    containerRef = props.containerRef,\n    value = props.value,\n    getValueIndex = props.getValueIndex,\n    motionName = props.motionName,\n    onMotionStart = props.onMotionStart,\n    onMotionEnd = props.onMotionEnd,\n    direction = props.direction;\n  var thumbRef = React.useRef(null);\n  var _React$useState = React.useState(value),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    prevValue = _React$useState2[0],\n    setPrevValue = _React$useState2[1];\n\n  // =========================== Effect ===========================\n  var findValueElement = function findValueElement(val) {\n    var _containerRef$current;\n    var index = getValueIndex(val);\n    var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelectorAll(\".\".concat(prefixCls, \"-item\"))[index];\n    return (ele === null || ele === void 0 ? void 0 : ele.offsetParent) && ele;\n  };\n  var _React$useState3 = React.useState(null),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    prevStyle = _React$useState4[0],\n    setPrevStyle = _React$useState4[1];\n  var _React$useState5 = React.useState(null),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    nextStyle = _React$useState6[0],\n    setNextStyle = _React$useState6[1];\n  useLayoutEffect(function () {\n    if (prevValue !== value) {\n      var prev = findValueElement(prevValue);\n      var next = findValueElement(value);\n      var calcPrevStyle = calcThumbStyle(prev);\n      var calcNextStyle = calcThumbStyle(next);\n      setPrevValue(value);\n      setPrevStyle(calcPrevStyle);\n      setNextStyle(calcNextStyle);\n      if (prev && next) {\n        onMotionStart();\n      } else {\n        onMotionEnd();\n      }\n    }\n  }, [value]);\n  var thumbStart = React.useMemo(function () {\n    return direction === 'rtl' ? toPX(-(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.right)) : toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.left);\n  }, [direction, prevStyle]);\n  var thumbActive = React.useMemo(function () {\n    return direction === 'rtl' ? toPX(-(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.right)) : toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.left);\n  }, [direction, nextStyle]);\n\n  // =========================== Motion ===========================\n  var onAppearStart = function onAppearStart() {\n    return {\n      transform: \"translateX(var(--thumb-start-left))\",\n      width: \"var(--thumb-start-width)\"\n    };\n  };\n  var onAppearActive = function onAppearActive() {\n    return {\n      transform: \"translateX(var(--thumb-active-left))\",\n      width: \"var(--thumb-active-width)\"\n    };\n  };\n  var onAppearEnd = function onAppearEnd() {\n    setPrevStyle(null);\n    setNextStyle(null);\n    onMotionEnd();\n  };\n\n  // =========================== Render ===========================\n  // No need motion when nothing exist in queue\n  if (!prevStyle || !nextStyle) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionName: motionName,\n    motionAppear: true,\n    onAppearStart: onAppearStart,\n    onAppearActive: onAppearActive,\n    onAppearEnd: onAppearEnd\n  }, function (_ref, ref) {\n    var motionClassName = _ref.className,\n      motionStyle = _ref.style;\n    var mergedStyle = _objectSpread(_objectSpread({}, motionStyle), {}, {\n      '--thumb-start-left': thumbStart,\n      '--thumb-start-width': toPX(prevStyle === null || prevStyle === void 0 ? void 0 : prevStyle.width),\n      '--thumb-active-left': thumbActive,\n      '--thumb-active-width': toPX(nextStyle === null || nextStyle === void 0 ? void 0 : nextStyle.width)\n    });\n\n    // It's little ugly which should be refactor when @umi/test update to latest jsdom\n    var motionProps = {\n      ref: composeRef(thumbRef, ref),\n      style: mergedStyle,\n      className: classNames(\"\".concat(prefixCls, \"-thumb\"), motionClassName)\n    };\n    if (process.env.NODE_ENV === 'test') {\n      motionProps['data-test-style'] = JSON.stringify(mergedStyle);\n    }\n    return /*#__PURE__*/React.createElement(\"div\", motionProps);\n  });\n}"]},"metadata":{},"sourceType":"module"}