{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"data\", \"renderItem\", \"renderRawItem\", \"itemKey\", \"itemWidth\", \"ssr\", \"style\", \"className\", \"maxCount\", \"renderRest\", \"renderRawRest\", \"suffix\", \"component\", \"itemComponent\", \"onVisibleChange\"];\nimport * as React from 'react';\nimport { useState, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport Item from './Item';\nimport useEffectState, { useBatcher } from './hooks/useEffectState';\nimport RawItem from './RawItem';\nexport var OverflowContext = /*#__PURE__*/React.createContext(null);\nvar RESPONSIVE = 'responsive';\nvar INVALIDATE = 'invalidate';\n\nfunction defaultRenderRest(omittedItems) {\n  return \"+ \".concat(omittedItems.length, \" ...\");\n}\n\nfunction Overflow(props, ref) {\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-overflow' : _props$prefixCls,\n      _props$data = props.data,\n      data = _props$data === void 0 ? [] : _props$data,\n      renderItem = props.renderItem,\n      renderRawItem = props.renderRawItem,\n      itemKey = props.itemKey,\n      _props$itemWidth = props.itemWidth,\n      itemWidth = _props$itemWidth === void 0 ? 10 : _props$itemWidth,\n      ssr = props.ssr,\n      style = props.style,\n      className = props.className,\n      maxCount = props.maxCount,\n      renderRest = props.renderRest,\n      renderRawRest = props.renderRawRest,\n      suffix = props.suffix,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      itemComponent = props.itemComponent,\n      onVisibleChange = props.onVisibleChange,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var fullySSR = ssr === 'full';\n  var notifyEffectUpdate = useBatcher();\n\n  var _useEffectState = useEffectState(notifyEffectUpdate, null),\n      _useEffectState2 = _slicedToArray(_useEffectState, 2),\n      containerWidth = _useEffectState2[0],\n      setContainerWidth = _useEffectState2[1];\n\n  var mergedContainerWidth = containerWidth || 0;\n\n  var _useEffectState3 = useEffectState(notifyEffectUpdate, new Map()),\n      _useEffectState4 = _slicedToArray(_useEffectState3, 2),\n      itemWidths = _useEffectState4[0],\n      setItemWidths = _useEffectState4[1];\n\n  var _useEffectState5 = useEffectState(notifyEffectUpdate, 0),\n      _useEffectState6 = _slicedToArray(_useEffectState5, 2),\n      prevRestWidth = _useEffectState6[0],\n      setPrevRestWidth = _useEffectState6[1];\n\n  var _useEffectState7 = useEffectState(notifyEffectUpdate, 0),\n      _useEffectState8 = _slicedToArray(_useEffectState7, 2),\n      restWidth = _useEffectState8[0],\n      setRestWidth = _useEffectState8[1];\n\n  var _useEffectState9 = useEffectState(notifyEffectUpdate, 0),\n      _useEffectState10 = _slicedToArray(_useEffectState9, 2),\n      suffixWidth = _useEffectState10[0],\n      setSuffixWidth = _useEffectState10[1];\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      suffixFixedStart = _useState2[0],\n      setSuffixFixedStart = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      displayCount = _useState4[0],\n      setDisplayCount = _useState4[1];\n\n  var mergedDisplayCount = React.useMemo(function () {\n    if (displayCount === null && fullySSR) {\n      return Number.MAX_SAFE_INTEGER;\n    }\n\n    return displayCount || 0;\n  }, [displayCount, containerWidth]);\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      restReady = _useState6[0],\n      setRestReady = _useState6[1];\n\n  var itemPrefixCls = \"\".concat(prefixCls, \"-item\"); // Always use the max width to avoid blink\n\n  var mergedRestWidth = Math.max(prevRestWidth, restWidth); // ================================= Data =================================\n\n  var isResponsive = maxCount === RESPONSIVE;\n  var shouldResponsive = data.length && isResponsive;\n  var invalidate = maxCount === INVALIDATE;\n  /**\n   * When is `responsive`, we will always render rest node to get the real width of it for calculation\n   */\n\n  var showRest = shouldResponsive || typeof maxCount === 'number' && data.length > maxCount;\n  var mergedData = useMemo(function () {\n    var items = data;\n\n    if (shouldResponsive) {\n      if (containerWidth === null && fullySSR) {\n        items = data;\n      } else {\n        items = data.slice(0, Math.min(data.length, mergedContainerWidth / itemWidth));\n      }\n    } else if (typeof maxCount === 'number') {\n      items = data.slice(0, maxCount);\n    }\n\n    return items;\n  }, [data, itemWidth, containerWidth, maxCount, shouldResponsive]);\n  var omittedItems = useMemo(function () {\n    if (shouldResponsive) {\n      return data.slice(mergedDisplayCount + 1);\n    }\n\n    return data.slice(mergedData.length);\n  }, [data, mergedData, shouldResponsive, mergedDisplayCount]); // ================================= Item =================================\n\n  var getKey = useCallback(function (item, index) {\n    var _ref;\n\n    if (typeof itemKey === 'function') {\n      return itemKey(item);\n    }\n\n    return (_ref = itemKey && (item === null || item === void 0 ? void 0 : item[itemKey])) !== null && _ref !== void 0 ? _ref : index;\n  }, [itemKey]);\n  var mergedRenderItem = useCallback(renderItem || function (item) {\n    return item;\n  }, [renderItem]);\n\n  function updateDisplayCount(count, suffixFixedStartVal, notReady) {\n    // React 18 will sync render even when the value is same in some case.\n    // We take `mergedData` as deps which may cause dead loop if it's dynamic generate.\n    // ref: https://github.com/ant-design/ant-design/issues/36559\n    if (displayCount === count && (suffixFixedStartVal === undefined || suffixFixedStartVal === suffixFixedStart)) {\n      return;\n    }\n\n    setDisplayCount(count);\n\n    if (!notReady) {\n      setRestReady(count < data.length - 1);\n      onVisibleChange === null || onVisibleChange === void 0 ? void 0 : onVisibleChange(count);\n    }\n\n    if (suffixFixedStartVal !== undefined) {\n      setSuffixFixedStart(suffixFixedStartVal);\n    }\n  } // ================================= Size =================================\n\n\n  function onOverflowResize(_, element) {\n    setContainerWidth(element.clientWidth);\n  }\n\n  function registerSize(key, width) {\n    setItemWidths(function (origin) {\n      var clone = new Map(origin);\n\n      if (width === null) {\n        clone.delete(key);\n      } else {\n        clone.set(key, width);\n      }\n\n      return clone;\n    });\n  }\n\n  function registerOverflowSize(_, width) {\n    setRestWidth(width);\n    setPrevRestWidth(restWidth);\n  }\n\n  function registerSuffixSize(_, width) {\n    setSuffixWidth(width);\n  } // ================================ Effect ================================\n\n\n  function getItemWidth(index) {\n    return itemWidths.get(getKey(mergedData[index], index));\n  }\n\n  useLayoutEffect(function () {\n    if (mergedContainerWidth && typeof mergedRestWidth === 'number' && mergedData) {\n      var totalWidth = suffixWidth;\n      var len = mergedData.length;\n      var lastIndex = len - 1; // When data count change to 0, reset this since not loop will reach\n\n      if (!len) {\n        updateDisplayCount(0, null);\n        return;\n      }\n\n      for (var i = 0; i < len; i += 1) {\n        var currentItemWidth = getItemWidth(i); // Fully will always render\n\n        if (fullySSR) {\n          currentItemWidth = currentItemWidth || 0;\n        } // Break since data not ready\n\n\n        if (currentItemWidth === undefined) {\n          updateDisplayCount(i - 1, undefined, true);\n          break;\n        } // Find best match\n\n\n        totalWidth += currentItemWidth;\n\n        if ( // Only one means `totalWidth` is the final width\n        lastIndex === 0 && totalWidth <= mergedContainerWidth || // Last two width will be the final width\n        i === lastIndex - 1 && totalWidth + getItemWidth(lastIndex) <= mergedContainerWidth) {\n          // Additional check if match the end\n          updateDisplayCount(lastIndex, null);\n          break;\n        } else if (totalWidth + mergedRestWidth > mergedContainerWidth) {\n          // Can not hold all the content to show rest\n          updateDisplayCount(i - 1, totalWidth - currentItemWidth - suffixWidth + restWidth);\n          break;\n        }\n      }\n\n      if (suffix && getItemWidth(0) + suffixWidth > mergedContainerWidth) {\n        setSuffixFixedStart(null);\n      }\n    }\n  }, [mergedContainerWidth, itemWidths, restWidth, suffixWidth, getKey, mergedData]); // ================================ Render ================================\n\n  var displayRest = restReady && !!omittedItems.length;\n  var suffixStyle = {};\n\n  if (suffixFixedStart !== null && shouldResponsive) {\n    suffixStyle = {\n      position: 'absolute',\n      left: suffixFixedStart,\n      top: 0\n    };\n  }\n\n  var itemSharedProps = {\n    prefixCls: itemPrefixCls,\n    responsive: shouldResponsive,\n    component: itemComponent,\n    invalidate: invalidate\n  }; // >>>>> Choice render fun by `renderRawItem`\n\n  var internalRenderItemNode = renderRawItem ? function (item, index) {\n    var key = getKey(item, index);\n    return /*#__PURE__*/React.createElement(OverflowContext.Provider, {\n      key: key,\n      value: _objectSpread(_objectSpread({}, itemSharedProps), {}, {\n        order: index,\n        item: item,\n        itemKey: key,\n        registerSize: registerSize,\n        display: index <= mergedDisplayCount\n      })\n    }, renderRawItem(item, index));\n  } : function (item, index) {\n    var key = getKey(item, index);\n    return /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, {\n      order: index,\n      key: key,\n      item: item,\n      renderItem: mergedRenderItem,\n      itemKey: key,\n      registerSize: registerSize,\n      display: index <= mergedDisplayCount\n    }));\n  }; // >>>>> Rest node\n\n  var restNode;\n  var restContextProps = {\n    order: displayRest ? mergedDisplayCount : Number.MAX_SAFE_INTEGER,\n    className: \"\".concat(itemPrefixCls, \"-rest\"),\n    registerSize: registerOverflowSize,\n    display: displayRest\n  };\n\n  if (!renderRawRest) {\n    var mergedRenderRest = renderRest || defaultRenderRest;\n    restNode = /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, restContextProps), typeof mergedRenderRest === 'function' ? mergedRenderRest(omittedItems) : mergedRenderRest);\n  } else if (renderRawRest) {\n    restNode = /*#__PURE__*/React.createElement(OverflowContext.Provider, {\n      value: _objectSpread(_objectSpread({}, itemSharedProps), restContextProps)\n    }, renderRawRest(omittedItems));\n  }\n\n  var overflowNode = /*#__PURE__*/React.createElement(Component, _extends({\n    className: classNames(!invalidate && prefixCls, className),\n    style: style,\n    ref: ref\n  }, restProps), mergedData.map(internalRenderItemNode), showRest ? restNode : null, suffix && /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, {\n    responsive: isResponsive,\n    responsiveDisabled: !shouldResponsive,\n    order: mergedDisplayCount,\n    className: \"\".concat(itemPrefixCls, \"-suffix\"),\n    registerSize: registerSuffixSize,\n    display: true,\n    style: suffixStyle\n  }), suffix));\n\n  if (isResponsive) {\n    overflowNode = /*#__PURE__*/React.createElement(ResizeObserver, {\n      onResize: onOverflowResize,\n      disabled: !shouldResponsive\n    }, overflowNode);\n  }\n\n  return overflowNode;\n}\n\nvar ForwardOverflow = /*#__PURE__*/React.forwardRef(Overflow);\nForwardOverflow.displayName = 'Overflow';\nForwardOverflow.Item = RawItem;\nForwardOverflow.RESPONSIVE = RESPONSIVE;\nForwardOverflow.INVALIDATE = INVALIDATE; // Convert to generic type\n\nexport default ForwardOverflow;","map":{"version":3,"sources":["/Users/luna/Desktop/Project/Git Project/rick-Morty/node_modules/rc-overflow/es/Overflow.js"],"names":["_extends","_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","React","useState","useMemo","useCallback","classNames","ResizeObserver","useLayoutEffect","Item","useEffectState","useBatcher","RawItem","OverflowContext","createContext","RESPONSIVE","INVALIDATE","defaultRenderRest","omittedItems","concat","length","Overflow","props","ref","_props$prefixCls","prefixCls","_props$data","data","renderItem","renderRawItem","itemKey","_props$itemWidth","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","_props$component","component","Component","itemComponent","onVisibleChange","restProps","fullySSR","notifyEffectUpdate","_useEffectState","_useEffectState2","containerWidth","setContainerWidth","mergedContainerWidth","_useEffectState3","Map","_useEffectState4","itemWidths","setItemWidths","_useEffectState5","_useEffectState6","prevRestWidth","setPrevRestWidth","_useEffectState7","_useEffectState8","restWidth","setRestWidth","_useEffectState9","_useEffectState10","suffixWidth","setSuffixWidth","_useState","_useState2","suffixFixedStart","setSuffixFixedStart","_useState3","_useState4","displayCount","setDisplayCount","mergedDisplayCount","Number","MAX_SAFE_INTEGER","_useState5","_useState6","restReady","setRestReady","itemPrefixCls","mergedRestWidth","Math","max","isResponsive","shouldResponsive","invalidate","showRest","mergedData","items","slice","min","getKey","item","index","_ref","mergedRenderItem","updateDisplayCount","count","suffixFixedStartVal","notReady","undefined","onOverflowResize","_","element","clientWidth","registerSize","key","width","origin","clone","delete","set","registerOverflowSize","registerSuffixSize","getItemWidth","get","totalWidth","len","lastIndex","i","currentItemWidth","displayRest","suffixStyle","position","left","top","itemSharedProps","responsive","internalRenderItemNode","createElement","Provider","value","order","display","restNode","restContextProps","mergedRenderRest","overflowNode","map","responsiveDisabled","onResize","disabled","ForwardOverflow","forwardRef","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"data\", \"renderItem\", \"renderRawItem\", \"itemKey\", \"itemWidth\", \"ssr\", \"style\", \"className\", \"maxCount\", \"renderRest\", \"renderRawRest\", \"suffix\", \"component\", \"itemComponent\", \"onVisibleChange\"];\nimport * as React from 'react';\nimport { useState, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport Item from './Item';\nimport useEffectState, { useBatcher } from './hooks/useEffectState';\nimport RawItem from './RawItem';\nexport var OverflowContext = /*#__PURE__*/React.createContext(null);\nvar RESPONSIVE = 'responsive';\nvar INVALIDATE = 'invalidate';\nfunction defaultRenderRest(omittedItems) {\n  return \"+ \".concat(omittedItems.length, \" ...\");\n}\nfunction Overflow(props, ref) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-overflow' : _props$prefixCls,\n    _props$data = props.data,\n    data = _props$data === void 0 ? [] : _props$data,\n    renderItem = props.renderItem,\n    renderRawItem = props.renderRawItem,\n    itemKey = props.itemKey,\n    _props$itemWidth = props.itemWidth,\n    itemWidth = _props$itemWidth === void 0 ? 10 : _props$itemWidth,\n    ssr = props.ssr,\n    style = props.style,\n    className = props.className,\n    maxCount = props.maxCount,\n    renderRest = props.renderRest,\n    renderRawRest = props.renderRawRest,\n    suffix = props.suffix,\n    _props$component = props.component,\n    Component = _props$component === void 0 ? 'div' : _props$component,\n    itemComponent = props.itemComponent,\n    onVisibleChange = props.onVisibleChange,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var fullySSR = ssr === 'full';\n  var notifyEffectUpdate = useBatcher();\n  var _useEffectState = useEffectState(notifyEffectUpdate, null),\n    _useEffectState2 = _slicedToArray(_useEffectState, 2),\n    containerWidth = _useEffectState2[0],\n    setContainerWidth = _useEffectState2[1];\n  var mergedContainerWidth = containerWidth || 0;\n  var _useEffectState3 = useEffectState(notifyEffectUpdate, new Map()),\n    _useEffectState4 = _slicedToArray(_useEffectState3, 2),\n    itemWidths = _useEffectState4[0],\n    setItemWidths = _useEffectState4[1];\n  var _useEffectState5 = useEffectState(notifyEffectUpdate, 0),\n    _useEffectState6 = _slicedToArray(_useEffectState5, 2),\n    prevRestWidth = _useEffectState6[0],\n    setPrevRestWidth = _useEffectState6[1];\n  var _useEffectState7 = useEffectState(notifyEffectUpdate, 0),\n    _useEffectState8 = _slicedToArray(_useEffectState7, 2),\n    restWidth = _useEffectState8[0],\n    setRestWidth = _useEffectState8[1];\n  var _useEffectState9 = useEffectState(notifyEffectUpdate, 0),\n    _useEffectState10 = _slicedToArray(_useEffectState9, 2),\n    suffixWidth = _useEffectState10[0],\n    setSuffixWidth = _useEffectState10[1];\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    suffixFixedStart = _useState2[0],\n    setSuffixFixedStart = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    displayCount = _useState4[0],\n    setDisplayCount = _useState4[1];\n  var mergedDisplayCount = React.useMemo(function () {\n    if (displayCount === null && fullySSR) {\n      return Number.MAX_SAFE_INTEGER;\n    }\n    return displayCount || 0;\n  }, [displayCount, containerWidth]);\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    restReady = _useState6[0],\n    setRestReady = _useState6[1];\n  var itemPrefixCls = \"\".concat(prefixCls, \"-item\");\n  // Always use the max width to avoid blink\n  var mergedRestWidth = Math.max(prevRestWidth, restWidth);\n  // ================================= Data =================================\n  var isResponsive = maxCount === RESPONSIVE;\n  var shouldResponsive = data.length && isResponsive;\n  var invalidate = maxCount === INVALIDATE;\n  /**\n   * When is `responsive`, we will always render rest node to get the real width of it for calculation\n   */\n  var showRest = shouldResponsive || typeof maxCount === 'number' && data.length > maxCount;\n  var mergedData = useMemo(function () {\n    var items = data;\n    if (shouldResponsive) {\n      if (containerWidth === null && fullySSR) {\n        items = data;\n      } else {\n        items = data.slice(0, Math.min(data.length, mergedContainerWidth / itemWidth));\n      }\n    } else if (typeof maxCount === 'number') {\n      items = data.slice(0, maxCount);\n    }\n    return items;\n  }, [data, itemWidth, containerWidth, maxCount, shouldResponsive]);\n  var omittedItems = useMemo(function () {\n    if (shouldResponsive) {\n      return data.slice(mergedDisplayCount + 1);\n    }\n    return data.slice(mergedData.length);\n  }, [data, mergedData, shouldResponsive, mergedDisplayCount]);\n  // ================================= Item =================================\n  var getKey = useCallback(function (item, index) {\n    var _ref;\n    if (typeof itemKey === 'function') {\n      return itemKey(item);\n    }\n    return (_ref = itemKey && (item === null || item === void 0 ? void 0 : item[itemKey])) !== null && _ref !== void 0 ? _ref : index;\n  }, [itemKey]);\n  var mergedRenderItem = useCallback(renderItem || function (item) {\n    return item;\n  }, [renderItem]);\n  function updateDisplayCount(count, suffixFixedStartVal, notReady) {\n    // React 18 will sync render even when the value is same in some case.\n    // We take `mergedData` as deps which may cause dead loop if it's dynamic generate.\n    // ref: https://github.com/ant-design/ant-design/issues/36559\n    if (displayCount === count && (suffixFixedStartVal === undefined || suffixFixedStartVal === suffixFixedStart)) {\n      return;\n    }\n    setDisplayCount(count);\n    if (!notReady) {\n      setRestReady(count < data.length - 1);\n      onVisibleChange === null || onVisibleChange === void 0 ? void 0 : onVisibleChange(count);\n    }\n    if (suffixFixedStartVal !== undefined) {\n      setSuffixFixedStart(suffixFixedStartVal);\n    }\n  }\n  // ================================= Size =================================\n  function onOverflowResize(_, element) {\n    setContainerWidth(element.clientWidth);\n  }\n  function registerSize(key, width) {\n    setItemWidths(function (origin) {\n      var clone = new Map(origin);\n      if (width === null) {\n        clone.delete(key);\n      } else {\n        clone.set(key, width);\n      }\n      return clone;\n    });\n  }\n  function registerOverflowSize(_, width) {\n    setRestWidth(width);\n    setPrevRestWidth(restWidth);\n  }\n  function registerSuffixSize(_, width) {\n    setSuffixWidth(width);\n  }\n  // ================================ Effect ================================\n  function getItemWidth(index) {\n    return itemWidths.get(getKey(mergedData[index], index));\n  }\n  useLayoutEffect(function () {\n    if (mergedContainerWidth && typeof mergedRestWidth === 'number' && mergedData) {\n      var totalWidth = suffixWidth;\n      var len = mergedData.length;\n      var lastIndex = len - 1;\n      // When data count change to 0, reset this since not loop will reach\n      if (!len) {\n        updateDisplayCount(0, null);\n        return;\n      }\n      for (var i = 0; i < len; i += 1) {\n        var currentItemWidth = getItemWidth(i);\n        // Fully will always render\n        if (fullySSR) {\n          currentItemWidth = currentItemWidth || 0;\n        }\n        // Break since data not ready\n        if (currentItemWidth === undefined) {\n          updateDisplayCount(i - 1, undefined, true);\n          break;\n        }\n        // Find best match\n        totalWidth += currentItemWidth;\n        if (\n        // Only one means `totalWidth` is the final width\n        lastIndex === 0 && totalWidth <= mergedContainerWidth ||\n        // Last two width will be the final width\n        i === lastIndex - 1 && totalWidth + getItemWidth(lastIndex) <= mergedContainerWidth) {\n          // Additional check if match the end\n          updateDisplayCount(lastIndex, null);\n          break;\n        } else if (totalWidth + mergedRestWidth > mergedContainerWidth) {\n          // Can not hold all the content to show rest\n          updateDisplayCount(i - 1, totalWidth - currentItemWidth - suffixWidth + restWidth);\n          break;\n        }\n      }\n      if (suffix && getItemWidth(0) + suffixWidth > mergedContainerWidth) {\n        setSuffixFixedStart(null);\n      }\n    }\n  }, [mergedContainerWidth, itemWidths, restWidth, suffixWidth, getKey, mergedData]);\n  // ================================ Render ================================\n  var displayRest = restReady && !!omittedItems.length;\n  var suffixStyle = {};\n  if (suffixFixedStart !== null && shouldResponsive) {\n    suffixStyle = {\n      position: 'absolute',\n      left: suffixFixedStart,\n      top: 0\n    };\n  }\n  var itemSharedProps = {\n    prefixCls: itemPrefixCls,\n    responsive: shouldResponsive,\n    component: itemComponent,\n    invalidate: invalidate\n  };\n  // >>>>> Choice render fun by `renderRawItem`\n  var internalRenderItemNode = renderRawItem ? function (item, index) {\n    var key = getKey(item, index);\n    return /*#__PURE__*/React.createElement(OverflowContext.Provider, {\n      key: key,\n      value: _objectSpread(_objectSpread({}, itemSharedProps), {}, {\n        order: index,\n        item: item,\n        itemKey: key,\n        registerSize: registerSize,\n        display: index <= mergedDisplayCount\n      })\n    }, renderRawItem(item, index));\n  } : function (item, index) {\n    var key = getKey(item, index);\n    return /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, {\n      order: index,\n      key: key,\n      item: item,\n      renderItem: mergedRenderItem,\n      itemKey: key,\n      registerSize: registerSize,\n      display: index <= mergedDisplayCount\n    }));\n  };\n  // >>>>> Rest node\n  var restNode;\n  var restContextProps = {\n    order: displayRest ? mergedDisplayCount : Number.MAX_SAFE_INTEGER,\n    className: \"\".concat(itemPrefixCls, \"-rest\"),\n    registerSize: registerOverflowSize,\n    display: displayRest\n  };\n  if (!renderRawRest) {\n    var mergedRenderRest = renderRest || defaultRenderRest;\n    restNode = /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, restContextProps), typeof mergedRenderRest === 'function' ? mergedRenderRest(omittedItems) : mergedRenderRest);\n  } else if (renderRawRest) {\n    restNode = /*#__PURE__*/React.createElement(OverflowContext.Provider, {\n      value: _objectSpread(_objectSpread({}, itemSharedProps), restContextProps)\n    }, renderRawRest(omittedItems));\n  }\n  var overflowNode = /*#__PURE__*/React.createElement(Component, _extends({\n    className: classNames(!invalidate && prefixCls, className),\n    style: style,\n    ref: ref\n  }, restProps), mergedData.map(internalRenderItemNode), showRest ? restNode : null, suffix && /*#__PURE__*/React.createElement(Item, _extends({}, itemSharedProps, {\n    responsive: isResponsive,\n    responsiveDisabled: !shouldResponsive,\n    order: mergedDisplayCount,\n    className: \"\".concat(itemPrefixCls, \"-suffix\"),\n    registerSize: registerSuffixSize,\n    display: true,\n    style: suffixStyle\n  }), suffix));\n  if (isResponsive) {\n    overflowNode = /*#__PURE__*/React.createElement(ResizeObserver, {\n      onResize: onOverflowResize,\n      disabled: !shouldResponsive\n    }, overflowNode);\n  }\n  return overflowNode;\n}\nvar ForwardOverflow = /*#__PURE__*/React.forwardRef(Overflow);\nForwardOverflow.displayName = 'Overflow';\nForwardOverflow.Item = RawItem;\nForwardOverflow.RESPONSIVE = RESPONSIVE;\nForwardOverflow.INVALIDATE = INVALIDATE;\n// Convert to generic type\nexport default ForwardOverflow;"]},"metadata":{},"sourceType":"module"}