{"ast":null,"code":"import * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport raf from \"rc-util/es/raf\";\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport classNames from 'classnames';\nimport { getTargetWaveColor } from './util';\n\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\n\nconst WaveEffect = props => {\n  const {\n    className,\n    target\n  } = props;\n  const divRef = React.useRef(null);\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target); // Get wave color from target\n\n    setWaveColor(getTargetWaveColor(target));\n    const isStatic = nodeStyle.position === 'static'; // Rect\n\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight); // Get border radius\n\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius))));\n  }\n\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      }); // Add resize observer to follow size\n\n      let resizeObserver;\n\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n\n      return () => {\n        raf.cancel(id);\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n      };\n    }\n  }, []);\n\n  if (!enabled) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          var _a;\n\n          (_a = holder.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(holder);\n        });\n      }\n\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, motionClassName),\n      style: waveStyle\n    });\n  });\n};\n\nexport default function showWaveEffect(node, className) {\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = `0px`;\n  holder.style.top = `0px`;\n  node === null || node === void 0 ? void 0 : node.insertBefore(holder, node === null || node === void 0 ? void 0 : node.firstChild);\n  render( /*#__PURE__*/React.createElement(WaveEffect, {\n    target: node,\n    className: className\n  }), holder);\n}","map":{"version":3,"sources":["/Users/luna/Desktop/Project/Git Project/rick-Morty/node_modules/antd/es/_util/wave/WaveEffect.js"],"names":["React","CSSMotion","raf","render","unmount","classNames","getTargetWaveColor","validateNum","value","Number","isNaN","WaveEffect","props","className","target","divRef","useRef","color","setWaveColor","useState","borderRadius","setBorderRadius","left","setLeft","top","setTop","width","setWidth","height","setHeight","enabled","setEnabled","waveStyle","map","radius","join","syncPos","nodeStyle","getComputedStyle","isStatic","position","borderLeftWidth","borderTopWidth","offsetLeft","parseFloat","offsetTop","offsetWidth","offsetHeight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","useEffect","id","resizeObserver","ResizeObserver","observe","cancel","disconnect","createElement","visible","motionAppear","motionName","motionDeadline","onAppearEnd","_","event","_a","deadline","propertyName","holder","current","parentElement","then","removeChild","_ref","motionClassName","ref","style","showWaveEffect","node","document","insertBefore","firstChild"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport raf from \"rc-util/es/raf\";\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport classNames from 'classnames';\nimport { getTargetWaveColor } from './util';\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nconst WaveEffect = props => {\n  const {\n    className,\n    target\n  } = props;\n  const divRef = React.useRef(null);\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target);\n    // Get wave color from target\n    setWaveColor(getTargetWaveColor(target));\n    const isStatic = nodeStyle.position === 'static';\n    // Rect\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight);\n    // Get border radius\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius))));\n  }\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      });\n      // Add resize observer to follow size\n      let resizeObserver;\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n      return () => {\n        raf.cancel(id);\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n      };\n    }\n  }, []);\n  if (!enabled) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          var _a;\n          (_a = holder.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(holder);\n        });\n      }\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, motionClassName),\n      style: waveStyle\n    });\n  });\n};\nexport default function showWaveEffect(node, className) {\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = `0px`;\n  holder.style.top = `0px`;\n  node === null || node === void 0 ? void 0 : node.insertBefore(holder, node === null || node === void 0 ? void 0 : node.firstChild);\n  render( /*#__PURE__*/React.createElement(WaveEffect, {\n    target: node,\n    className: className\n  }), holder);\n}"]},"metadata":{},"sourceType":"module"}