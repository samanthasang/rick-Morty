{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n/**\n * Removed props:\n *  - childrenProps\n */\n\nimport { alignElement, alignPoint } from 'dom-align';\nimport isEqual from \"rc-util/es/isEqual\";\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport React from 'react';\nimport useBuffer from \"./hooks/useBuffer\";\nimport { isSamePoint, monitorResize, restoreFocus } from \"./util\";\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  /** Popup node ref */\n\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.align = align;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = useBuffer(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestAlign = _forceAlignPropsRef$c.align,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n    var source = nodeRef.current;\n\n    if (!latestDisabled && latestTarget && source) {\n      var _result;\n\n      var _element = getElement(latestTarget);\n\n      var _point = getPoint(latestTarget);\n\n      cacheRef.current.element = _element;\n      cacheRef.current.point = _point;\n      cacheRef.current.align = latestAlign; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n      if (_element && isVisible(_element)) {\n        _result = alignElement(source, _element, latestAlign);\n      } else if (_point) {\n        _result = alignPoint(source, _point, latestAlign);\n      }\n\n      restoreFocus(activeElement, source);\n\n      if (latestOnAlign && _result) {\n        latestOnAlign(source, _result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Handle props change\n\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      element = _React$useState2[0],\n      setElement = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      point = _React$useState4[0],\n      setPoint = _React$useState4[1];\n\n  useLayoutEffect(function () {\n    setElement(getElement(target));\n    setPoint(getPoint(target));\n  });\n  React.useEffect(function () {\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point) || !isEqual(cacheRef.current.align, align)) {\n      _forceAlign();\n    }\n  }); // Watch popup element resize\n\n  React.useEffect(function () {\n    var cancelFn = monitorResize(nodeRef.current, _forceAlign);\n    return cancelFn;\n  }, [nodeRef.current]); // Watch target element resize\n\n  React.useEffect(function () {\n    var cancelFn = monitorResize(element, _forceAlign);\n    return cancelFn;\n  }, [element]); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      var cancelFn = addEventListener(window, 'resize', _forceAlign);\n      return cancelFn.remove;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if ( /*#__PURE__*/React.isValidElement(childNode)) {\n    childNode = /*#__PURE__*/React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RcAlign = /*#__PURE__*/React.forwardRef(Align);\nRcAlign.displayName = 'Align';\nexport default RcAlign;","map":{"version":3,"sources":["/Users/luna/Desktop/Project/Git Project/rick-Morty/node_modules/rc-align/es/Align.js"],"names":["_slicedToArray","_typeof","alignElement","alignPoint","isEqual","addEventListener","isVisible","useLayoutEffect","composeRef","React","useBuffer","isSamePoint","monitorResize","restoreFocus","getElement","func","getPoint","point","Align","_ref","ref","children","disabled","target","align","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","useRef","nodeRef","childNode","Children","only","forceAlignPropsRef","current","_useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","latestAlign","latestOnAlign","source","_result","_element","_point","element","_document","document","activeElement","_useBuffer2","_forceAlign","cancelForceAlign","_React$useState","useState","_React$useState2","setElement","_React$useState3","_React$useState4","setPoint","useEffect","cancelFn","window","remove","useImperativeHandle","forceAlign","isValidElement","cloneElement","RcAlign","forwardRef","displayName"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/**\n * Removed props:\n *  - childrenProps\n */\nimport { alignElement, alignPoint } from 'dom-align';\nimport isEqual from \"rc-util/es/isEqual\";\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport React from 'react';\nimport useBuffer from \"./hooks/useBuffer\";\nimport { isSamePoint, monitorResize, restoreFocus } from \"./util\";\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  /** Popup node ref */\n\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.align = align;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = useBuffer(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target,\n        latestAlign = _forceAlignPropsRef$c.align,\n        latestOnAlign = _forceAlignPropsRef$c.onAlign;\n    var source = nodeRef.current;\n\n    if (!latestDisabled && latestTarget && source) {\n      var _result;\n\n      var _element = getElement(latestTarget);\n\n      var _point = getPoint(latestTarget);\n\n      cacheRef.current.element = _element;\n      cacheRef.current.point = _point;\n      cacheRef.current.align = latestAlign; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      var _document = document,\n          activeElement = _document.activeElement; // We only align when element is visible\n\n      if (_element && isVisible(_element)) {\n        _result = alignElement(source, _element, latestAlign);\n      } else if (_point) {\n        _result = alignPoint(source, _point, latestAlign);\n      }\n\n      restoreFocus(activeElement, source);\n\n      if (latestOnAlign && _result) {\n        latestOnAlign(source, _result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Handle props change\n\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      element = _React$useState2[0],\n      setElement = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      point = _React$useState4[0],\n      setPoint = _React$useState4[1];\n\n  useLayoutEffect(function () {\n    setElement(getElement(target));\n    setPoint(getPoint(target));\n  });\n  React.useEffect(function () {\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point) || !isEqual(cacheRef.current.align, align)) {\n      _forceAlign();\n    }\n  }); // Watch popup element resize\n\n  React.useEffect(function () {\n    var cancelFn = monitorResize(nodeRef.current, _forceAlign);\n    return cancelFn;\n  }, [nodeRef.current]); // Watch target element resize\n\n  React.useEffect(function () {\n    var cancelFn = monitorResize(element, _forceAlign);\n    return cancelFn;\n  }, [element]); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      var cancelFn = addEventListener(window, 'resize', _forceAlign);\n      return cancelFn.remove;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if ( /*#__PURE__*/React.isValidElement(childNode)) {\n    childNode = /*#__PURE__*/React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RcAlign = /*#__PURE__*/React.forwardRef(Align);\nRcAlign.displayName = 'Align';\nexport default RcAlign;"]},"metadata":{},"sourceType":"module"}